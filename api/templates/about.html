{% extends "base.html" %}

{% block title %}About - SMOL{% endblock %}

{% block content %}
<hgroup>
    <h1>About SMOL</h1>
    <p>Spectra and Matrices Of Little graphs</p>
</hgroup>

<p>
    SMOL is a comprehensive database of all simple graphs up to 10 vertices with precomputed
    spectral properties for four matrix types: adjacency, Laplacian, non-backtracking (Hashimoto),
    and non-backtracking Laplacian.
</p>

<p>
    Use it to find examples, explore cospectral pairs, and discover which matrix types can
    distinguish which graphs.
</p>

<article>
    <header><h3>Database Statistics</h3></header>
    <p><strong>{{ "{:,}".format(stats.total_graphs) }}</strong> total graphs ({{ "{:,}".format(stats.connected_graphs) }} connected)</p>

    <div style="overflow-x: auto;">
    <table>
        <thead>
            <tr>
                <th>n</th>
                <th>Graphs</th>
                <th>Adj cospectral</th>
                <th>Lap cospectral</th>
                <th>NB cospectral</th>
                <th>NBL cospectral</th>
            </tr>
        </thead>
        <tbody>
            {% for n, count in stats.counts_by_n.items() %}
            <tr>
                <td>{{ n }}</td>
                <td>{{ "{:,}".format(count) }}</td>
                <td>{{ "{:,}".format(stats.cospectral_counts.adj.get(n, 0)) if stats.cospectral_counts.adj.get(n, 0) else "-" }}</td>
                <td>{{ "{:,}".format(stats.cospectral_counts.lap.get(n, 0)) if stats.cospectral_counts.lap.get(n, 0) else "-" }}</td>
                <td>{{ "{:,}".format(stats.cospectral_counts.nb.get(n, 0)) if stats.cospectral_counts.nb.get(n, 0) else "-" }}</td>
                <td>{{ "{:,}".format(stats.cospectral_counts.nbl.get(n, 0)) if stats.cospectral_counts.nbl.get(n, 0) else "-" }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    </div>
</article>

<article>
    <header><h3>Network Properties</h3></header>
    {% if stats.property_stats %}
    <p>
        <strong>{{ "{:,}".format(stats.property_stats.computed) }}</strong> of
        {{ "{:,}".format(stats.property_stats.total) }} graphs have computed network properties
        ({{ stats.property_stats.percent }}%)
    </p>
    {% if stats.property_ranges %}
    <p>Network property ranges across all computed graphs:</p>
    <dl class="property-grid">
        {% if stats.property_ranges.clustering %}
        <dt>Global clustering</dt>
        <dd>{{ stats.property_ranges.clustering.min }} – {{ stats.property_ranges.clustering.max }} (avg: {{ stats.property_ranges.clustering.avg }})</dd>
        {% endif %}
        {% if stats.property_ranges.path_length %}
        <dt>Avg path length</dt>
        <dd>{{ stats.property_ranges.path_length.min }} – {{ stats.property_ranges.path_length.max }} (avg: {{ stats.property_ranges.path_length.avg }})</dd>
        {% endif %}
        {% if stats.property_ranges.assortativity %}
        <dt>Assortativity</dt>
        <dd>{{ stats.property_ranges.assortativity.min }} – {{ stats.property_ranges.assortativity.max }} (avg: {{ stats.property_ranges.assortativity.avg }})</dd>
        {% endif %}
    </dl>
    {% endif %}
    {% else %}
    <p>Network properties (clustering, centrality, etc.) are being computed. Check back soon.</p>
    {% endif %}
</article>

<article>
    <header><h3>API</h3></header>
    <p>All endpoints return JSON by default. Use <code>Accept: text/html</code> header or access via browser for HTML.</p>

    <pre><code>GET /graph/{graph6}            # Look up a single graph
GET /graphs?n=7&amp;regular=true   # Query graphs by properties
GET /compare?graphs=D?{,DEo    # Compare multiple graphs
GET /stats                     # Database statistics</code></pre>
</article>

<article>
    <header><h3>References</h3></header>
    <p><em>TODO: Add references to relevant papers on graph spectra, non-backtracking matrices, etc.</em></p>
</article>

<article>
    <header><h3>Citation</h3></header>
    <pre><code>@misc{smol2025,
  title  = {SMOL: Spectra and Matrices Of Little graphs},
  author = {...},
  year   = {2025},
  url    = {...}
}</code></pre>
</article>

<article>
    <header><h3>Source Code</h3></header>
    <p>
        SMOL is open source. Contributions and bug reports welcome.
    </p>
    <p>
        <a href="https://github.com/..." role="button" class="outline">View on GitHub</a>
    </p>
</article>

<article>
    <header><h3>Contact</h3></header>
    <p>
        Questions, suggestions, or feedback? Get in touch:
        <a href="mailto:leo@leotrs.com">leo@leotrs.com</a>
    </p>
</article>
{% endblock %}
