{% extends "base.html" %}

{% block title %}Statistics - SMOL{% endblock %}

{% block content %}
<div class="card">
    <h2>Database Statistics</h2>
    <p>
        <strong>{{ "{:,}".format(stats.total_graphs) }}</strong> total graphs,
        <strong>{{ "{:,}".format(stats.connected_graphs) }}</strong> connected
    </p>
</div>

<div class="card">
    <h3>Connected Graphs by n</h3>
    <table>
        <tr>
            <th>n</th>
            {% for n in stats.counts_by_n.keys() %}
            <td>{{ n }}</td>
            {% endfor %}
        </tr>
        <tr>
            <th>count</th>
            {% for count in stats.counts_by_n.values() %}
            <td>{{ "{:,}".format(count) }}</td>
            {% endfor %}
        </tr>
    </table>
</div>

<div class="card">
    <h3>Cospectral Graphs by Matrix Type</h3>
    <p>Number of graphs with at least one cospectral mate (same n, m):</p>
    <table>
        <tr>
            <th>Matrix</th>
            {% for n in stats.counts_by_n.keys() %}
            <th>n={{ n }}</th>
            {% endfor %}
        </tr>
        {% for matrix in ['adj', 'lap', 'nb', 'nbl'] %}
        <tr>
            <td>{{ matrix }}</td>
            {% for n in stats.counts_by_n.keys() %}
            <td>{{ "{:,}".format(stats.cospectral_counts[matrix].get(n, 0)) }}</td>
            {% endfor %}
        </tr>
        {% endfor %}
    </table>
</div>
{% endblock %}
